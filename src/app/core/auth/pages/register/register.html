<!-- src/app/core/auth/pages/register/register.html -->
<zso-card padding="lg" class="max-w-md mx-auto">
<form [formGroup]="form" (ngSubmit)="submit()" class="w-full" zsoGlowSeq zsoSweepSeq>

  <!-- Header Section -->
  <div class="text-center mb-8 animate-fadeUp">
    <div class="auth-icon-wrapper mx-auto mb-4">
      <span class="material-symbols-outlined text-2xl text-cp-orange">person_add</span>
    </div>
    <h1 class="text-2xl font-bold text-white mb-2">Konto erstellen</h1>
    <p class="text-sm text-gray-400">Registriere dich für den Zugang</p>
  </div>

  <!-- Form Fields -->
  <div class="space-y-6 mb-6">
    <!-- Personal Info Section -->
    <div class="field-stack--tight">
      <p class="section-title mb-3">Persönliche Angaben</p>
      <zso-input-field 
        formControlName="firstName" 
        label="Vorname"
        placeholder="Dein Vorname"/>
      <zso-input-field 
        formControlName="lastName" 
        label="Nachname"
        placeholder="Dein Nachname"/>
    </div>

    <!-- Account Info Section -->
    <div class="field-stack--tight">
      <p class="section-title mb-3">Zugangsdaten</p>
      <zso-input-field 
        formControlName="email" 
        label="E-Mail-Adresse" 
        type="email"
        placeholder="deine@email.ch"/>
      <zso-input-field 
        formControlName="password" 
        label="Passwort" 
        type="password" 
        [toggleVisibility]="true"
        placeholder="Mindestens 6 Zeichen"/>
      <zso-input-field 
        formControlName="confirmPassword" 
        label="Passwort bestätigen" 
        type="password" 
        [toggleVisibility]="true"
        placeholder="Passwort wiederholen"/>
    </div>

    <!-- Terms Acceptance -->
    <div class="bg-white/5 border border-white/10 rounded-lg p-4">
      <zso-checkbox 
        formControlName="acceptTos" 
        label="Ich akzeptiere die Nutzungsbedingungen und bin damit einverstanden, dass meine Daten für die Zivilschutz-Verwaltung verwendet werden."/>
    </div>
  </div>

  <!-- Submit Button -->
  <zso-button 
    type="primary" 
    [loading]="isLoading" 
    [fullWidth]="true" 
    htmlType="submit"
    class="mb-6">
    Registrieren
  </zso-button>

  <!-- Error Messages -->
  @if (passwordMismatch) {
    <div class="mb-4 p-3 rounded-lg bg-rose-500/10 border border-rose-500/20">
      <div class="flex items-center gap-2">
        <span class="material-symbols-outlined text-rose-400 text-sm">error</span>
        <p class="text-sm text-rose-300">Die Passwörter stimmen nicht überein.</p>
      </div>
    </div>
  }
  
  @if (errorMsg) {
    <div class="mb-6 p-3 rounded-lg bg-rose-500/10 border border-rose-500/20">
      <div class="flex items-center gap-2">
        <span class="material-symbols-outlined text-rose-400 text-sm">error</span>
        <p class="text-sm text-rose-300">{{ errorMsg }}</p>
      </div>
    </div>
  }

  <!-- Login Link -->
  <div class="text-center">
    <p class="text-sm text-gray-400">
      Bereits registriert?
      <a routerLink="/auth/login" 
         class="font-medium text-cp-orange hover:text-cp-orange/80 transition-colors ml-1">
        Jetzt anmelden
      </a>
    </p>
  </div>
</form>
</zso-card>